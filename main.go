package main

import (
	"encoding/base64"
	"fmt"
	"os"
	"os/exec"
	"path/filepath"
	"strconv"
	"strings"

	"github.com/BurntSushi/toml"
	"github.com/BurntSushi/xgbutil"
	"github.com/BurntSushi/xgbutil/keybind"
	"github.com/BurntSushi/xgbutil/xevent"
	"github.com/getlantern/systray"
)

type Config struct {
	General struct {
		AppSelectPrefix    string `toml:"app_select_prefix"`
		WindowManagePrefix string `toml:"window_manage_prefix"`
	} `toml:"general"`
	AppSelect    map[string]AppConfig `toml:"app_select"`
	WindowManage map[string]string    `toml:"window_manage"`
}

type AppConfig struct {
	Command     string `toml:"command"`
	ProcessName string `toml:"process_name"`
	WindowClass string `toml:"window_class"`
}

const defaultConfig = `[general]
app_select_prefix = "Control-Mod1"
window_manage_prefix = "Cmd-Mod4"

[app_select]
b = { command = "firefox", process_name = "firefox", window_class = "Firefox" }
t = { command = "kitty", process_name = "kitty", window_class = "kitty" }
f = { command = "dolphin", process_name = "dolphin", window_class = "dolphin" }
# Add more applications here, e.g.:
# c = { command = "chromium", process_name = "chromium", window_class = "Chromium" }

[window_manage]
m = "center"
`

func main() {
	go func() {
		config, err := loadOrCreateConfig()
		if err != nil {
			fmt.Println("Error loading or creating config:", err)
			return
		}

		X, err := xgbutil.NewConn()
		if err != nil {
			fmt.Println("Error connecting to X server:", err)
			return
		}

		keybind.Initialize(X)

		for key, app := range config.AppSelect {
			bindKey(X, config.General.AppSelectPrefix+"-"+key, app)
		}
		fmt.Printf("Keymaps set. Use %s-[key] to launch or focus applications.\n", config.General.AppSelectPrefix)

		// Bind the window management keys
		for action, keyCombo := range config.WindowManage {
			bindWindowManagementKey(X, config.General.WindowManagePrefix+"-"+keyCombo, action)
		}
		fmt.Printf("Keymaps set. Use %s-[key] to manage windows.\n", config.General.WindowManagePrefix)
		xevent.Main(X)
	}()

	systray.Run(onReady, onExit)
}

func loadOrCreateConfig() (*Config, error) {
	homeDir, err := os.UserHomeDir()
	if err != nil {
		return nil, err
	}

	configDir := filepath.Join(homeDir, ".config", "uiauto")
	configPath := filepath.Join(configDir, "uiauto.conf")

	if _, err := os.Stat(configPath); os.IsNotExist(err) {
		err = os.MkdirAll(configDir, 0755)
		if err != nil {
			return nil, fmt.Errorf("failed to create config directory: %v", err)
		}

		err = os.WriteFile(configPath, []byte(defaultConfig), 0644)
		if err != nil {
			return nil, fmt.Errorf("failed to create default config file: %v", err)
		}
		fmt.Println("Created default config file at", configPath)
	}

	var config Config
	_, err = toml.DecodeFile(configPath, &config)
	return &config, err
}

func bindKey(X *xgbutil.XUtil, keyCombo string, app AppConfig) {
	err := keybind.KeyPressFun(
		func(X *xgbutil.XUtil, e xevent.KeyPressEvent) {
			openOrFocusApp(app)
		}).Connect(X, X.RootWin(), keyCombo, true)
	if err != nil {
		fmt.Printf("Error binding key for %s: %v\n", app.Command, err)
	}
}

func bindWindowManagementKey(X *xgbutil.XUtil, keyCombo string, action string) {
	err := keybind.KeyPressFun(
		func(X *xgbutil.XUtil, e xevent.KeyPressEvent) {
			if action == "center" {
				centerWindow()
			}
		}).Connect(X, X.RootWin(), keyCombo, true)
	if err != nil {
		fmt.Printf("Error binding window management key: %v\n", err)
	}
}

func centerWindow() {
	// Get screen dimensions using xrandr
	output, err := exec.Command("xrandr").Output()
	if err != nil {
		fmt.Println("Error getting screen dimensions:", err)
		return
	}

	// Assume the first connected screen is the primary one (more sophisticated parsing can be added)
	lines := strings.Split(string(output), "\n")
	var screenWidth, screenHeight int
	for _, line := range lines {
		if strings.Contains(line, " connected") {
			fields := strings.Fields(line)
			resolution := strings.Split(fields[2], "+")[0]
			dimensions := strings.Split(resolution, "x")
			screenWidth = strToInt(dimensions[0])
			screenHeight = strToInt(dimensions[1])
			break
		}
	}

	if screenWidth == 0 || screenHeight == 0 {
		fmt.Println("Error parsing screen dimensions.")
		return
	}

	// Calculate 75% of screen dimensions
	targetWidth := int(float64(screenWidth) * 0.75)
	targetHeight := int(float64(screenHeight) * 0.75)

	// Calculate top-left corner to center the window
	x := (screenWidth - targetWidth) / 2
	y := (screenHeight - targetHeight) / 2

	// Use wmctrl to move and resize the active window
	err = exec.Command("wmctrl", "-r", ":ACTIVE:", "-e", fmt.Sprintf("0,%d,%d,%d,%d", x, y, targetWidth, targetHeight)).Run()
	if err != nil {
		fmt.Println("Error centering window:", err)
	}
}

func openOrFocusApp(app AppConfig) {
	if isAppRunning(app.ProcessName) {
		focusApp(app.WindowClass)
	} else {
		startApp(app.Command)
	}
}

func isAppRunning(processName string) bool {
	cmd := exec.Command("pgrep", "-f", processName)
	output, err := cmd.Output()
	return err == nil && len(output) > 0
}

func focusApp(windowClass string) {
	cmd := exec.Command("wmctrl", "-x", "-a", windowClass)
	err := cmd.Run()
	if err != nil {
		fmt.Printf("Error focusing %s: %v\n", windowClass, err)
	}
}

func startApp(command string) {
	parts := strings.Fields(command)
	cmd := exec.Command(parts[0], parts[1:]...)
	err := cmd.Start()
	if err != nil {
		fmt.Printf("Error starting %s: %v\n", command, err)
	}
}

func onReady() {
	systray.SetTitle("uiauto")
	systray.SetTooltip("UI Automation Tool")
	// Replace this with your actual base64 encoded icon string
	base64Icon := "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"

	// Decode the base64 string to a byte slice
	iconData, err := base64.StdEncoding.DecodeString(base64Icon)
	if err != nil {
		fmt.Printf("Failed to decode base64 icon\n")
	}

	// Set the icon
	systray.SetIcon(iconData)
	appHome := systray.AddMenuItem("uiauto", "https://github.com/robertarles/uiauto")
	appHomeUrl := "https://github.com/robertarles/uiauto"
	cmd := "xdg-open"
	args := []string{appHomeUrl}
	go func () {
		<-appHome.ClickedCh
    exec.Command(cmd, args...).Start()
	}()

	systray.AddSeparator()
	
	mQuit := systray.AddMenuItem("Quit", "Quit the application")
	go func() {
		<-mQuit.ClickedCh
		systray.Quit()
	}()
}

func onExit() {
	// Clean up here if needed
}

func strToInt(s string) int {
	i, _ := strconv.Atoi(s)
	return i
}
